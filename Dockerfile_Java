FROM alpine:3.16


RUN echo 'http://dl-cdn.alpinelinux.org/alpine/v3.9/main' >> /etc/apk/repositories
RUN echo 'http://dl-cdn.alpinelinux.org/alpine/v3.9/community' >> /etc/apk/repositories
RUN apk update

# install bash
RUN \
  apk add --no-cache bash

RUN apk --no-cache --update add openjdk11 

# Create DIR config
RUN mkdir -p /data/conf

WORKDIR /data/app

COPY dynfi-21.0.10-all.jar .

# Define mountable directories.
VOLUME ["/data/db"]
VOLUME ["/data/conf"]

CMD [ "java", "-jar", "dynfi-21.0.10-all.jar", "--config",  "/data/conf/custom.dynfi.conf" ]
